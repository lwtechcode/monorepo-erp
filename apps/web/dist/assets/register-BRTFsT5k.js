import{p as j,q as C,s as y,t as b,v as r,w as o,u as T,j as e,G as s,F as p,c as a,x as v,R as u,y as f,S as E,i as h,z as w,A as R,D as U,E as N,H as S,B as q}from"./index-BPvzKghM.js";async function L(x){try{const d=await j.post("/auth/register",{...x});return d==null?void 0:d.data}catch(d){throw new Error(await C(d))}}const k="registrar-usuario";function z(){const{data:x,isPending:d,mutate:m}=y({mutationKey:[k],mutationFn:L});return{register:x,mutateRegister:m,isFetchingRegister:d}}const P=b().shape({name:r().required(o),cnpj:r().required(o),phone:r().required(o),email:r().required(o).email(),street:r().required(o),number:r().required(o),complement:r().optional(),neighborhood:r().required(o),city:r().required(o),state:r().required(o),zipCode:r().required(o),nameUser:r().required(o),emailUser:r().required(o),passwordUser:r().required(o)});function B(){const x=T(),{mutateRegister:d,isFetchingRegister:m}=z();function g(l){d({company:{city:l.city,cnpj:l.cnpj,name:l.name,email:l.email,phone:l.phone,state:l.state,street:l.street,number:l.number,zipCode:l.zipCode,complement:l.complement,neighborhood:l.neighborhood},adminUser:{email:l.email,name:l.nameUser,password:l.passwordUser}})}return e.jsxs(s.Row,{className:"h-svh",children:[e.jsx(s.Col,{span:8,className:"bg-gray-100 h-full overflow-y-auto",children:e.jsxs(p,{vertical:!0,className:"h-full",align:"center",justify:"center",children:[e.jsx(p,{className:"bg-blue-100 w-[80px] h-[80px] rounded-full",vertical:!0,align:"center",justify:"center",children:e.jsx(a.Link,{onClick:()=>{v()?x(u.Root):x(u.Login)},className:"text-black",children:"Logo"})}),e.jsx(p,{vertical:!0,justify:"center",align:"center",children:e.jsx(f,{validateOnChange:!1,initialValues:{name:"",cnpj:"",phone:"",email:"",street:"",number:"",complement:"",neighborhood:"",city:"",state:"",zipCode:"",nameUser:"",emailUser:"",passwordUser:""},onSubmit:l=>g(l),validationSchema:P,children:({handleSubmit:l,values:i,setFieldValue:c,errors:n})=>e.jsxs(E,{direction:"vertical",size:"middle",className:"w-full px-24",children:[e.jsxs(s.Row,{gutter:[8,8],children:[e.jsxs(s.Col,{span:24,children:[e.jsx(a.Text,{children:"E-mail*"}),e.jsx(h,{"aria-label":"E-mail",value:i.email,onChange:t=>{c("email",t.target.value)},placeholder:"e-mail@minhaempresa.com.br"}),n.email?e.jsx(a.Text,{type:"danger",children:n.email}):null]}),e.jsxs(s.Col,{span:24,children:[e.jsx(a.Text,{children:"CNPJ*"}),e.jsx(h,{"aria-label":"CNPJ",value:i.cnpj,onChange:t=>{c("cnpj",w(t.target.value))},placeholder:"00.000.000/0000-00",maxLength:18}),n.cnpj?e.jsx(a.Text,{type:"danger",children:n.cnpj}):null]}),e.jsxs(s.Col,{span:24,children:[e.jsx(a.Text,{children:"Nome fantasia*"}),e.jsx(h,{"aria-label":"Nome fantasia",value:i.name,onChange:t=>{c("name",t.target.value)},placeholder:"Ex.: Empresa Gestão Comercial"}),n.name?e.jsx(a.Text,{type:"danger",children:n.name}):null]}),e.jsxs(s.Col,{span:24,children:[e.jsx(a.Text,{children:"Usuário*"}),e.jsx(h,{"aria-label":"Usuário",value:i.nameUser,onChange:t=>{c("nameUser",t.target.value)},placeholder:"Ex.: gestor"}),n.nameUser?e.jsx(a.Text,{type:"danger",children:n.nameUser}):null]}),e.jsxs(s.Col,{span:24,children:[e.jsx(a.Text,{children:"Telefone*"}),e.jsx(h,{"aria-label":"Telefone",value:i.phone,onChange:t=>{c("phone",R(t.target.value))},placeholder:"(00) 00000-0000",maxLength:15}),n.phone?e.jsx(a.Text,{type:"danger",children:n.phone}):null]}),e.jsxs(s.Col,{span:24,children:[e.jsx(a.Text,{children:"Senha*"}),e.jsx(h.Password,{"aria-label":"Senha",value:i.passwordUser,onChange:t=>{c("passwordUser",t.target.value)},placeholder:"••••••••••",type:"password"}),n.passwordUser?e.jsx(a.Text,{type:"danger",children:n.passwordUser}):null]})]}),e.jsxs(s.Row,{gutter:[8,8],children:[e.jsxs(s.Col,{span:24,children:[e.jsx(a.Text,{children:"CEP*"}),e.jsx(h,{"aria-label":"CEP",value:i.zipCode,onChange:t=>{c("zipCode",U(t.target.value))},placeholder:"00000-00",maxLength:9}),n.zipCode?e.jsx(a.Text,{type:"danger",children:n.zipCode}):null]}),e.jsxs(s.Col,{span:18,children:[e.jsx(a.Text,{children:"Logradouro*"}),e.jsx(h,{"aria-label":"Logradouro",value:i.street,onChange:t=>{c("street",t.target.value)},placeholder:"Logradouro"}),n.street?e.jsx(a.Text,{type:"danger",children:n.street}):null]}),e.jsxs(s.Col,{span:6,children:[e.jsx(a.Text,{children:"Número*"}),e.jsx(h,{"aria-label":"Número",value:i.number,onChange:t=>{c("number",t.target.value)},placeholder:"Número"}),n.number?e.jsx(a.Text,{type:"danger",children:n.number}):null]}),e.jsxs(s.Col,{span:12,children:[e.jsx(a.Text,{children:"Bairro*"}),e.jsx(h,{"aria-label":"Bairro",value:i.neighborhood,onChange:t=>{c("neighborhood",t.target.value)},placeholder:"Bairro"}),n.neighborhood?e.jsx(a.Text,{type:"danger",children:n.neighborhood}):null]}),e.jsxs(s.Col,{span:12,children:[e.jsx(a.Text,{children:"Cidade*"}),e.jsx(h,{"aria-label":"Cidade",value:i.city,onChange:t=>{c("city",t.target.value)},placeholder:"Cidade"}),n.city?e.jsx(a.Text,{type:"danger",children:n.city}):null]}),e.jsx(s.Col,{span:24,children:e.jsxs(p,{vertical:!0,children:[e.jsx(a.Text,{children:"Estado*"}),e.jsx(N,{"aria-label":"Estado",value:i.state,onChange:t=>{c("state",t)},options:S,placeholder:"Selecione o estado"}),n.state?e.jsx(a.Text,{type:"danger",children:n.state}):null]})}),e.jsxs(s.Col,{span:24,children:[e.jsx(a.Text,{children:"Complemento"}),e.jsx(h,{"aria-label":"Complemento",value:i.complement,onChange:t=>{c("complement",t.target.value)},placeholder:"Complemento"}),n.complement?e.jsx(a.Text,{type:"danger",children:n.complement}):null]})]}),e.jsx(q,{block:!0,onClick:()=>{l()},type:"primary",loading:m,children:"Cadastrar"}),e.jsxs(p,{vertical:!0,justify:"center",align:"center",children:[e.jsx(a.Link,{onClick:()=>x(u.RecoveryPassword),children:"Esqueci a senha"}),e.jsxs(p,{justify:"center",align:"center",gap:2,children:[e.jsx(a.Text,{children:"Já tenho um cadastro?"}),e.jsx(a.Link,{onClick:()=>x(u.Login),children:"Entrar com e-mail e senha"})]})]})]})})})]})}),e.jsx(s.Col,{span:16,className:"h-full",children:e.jsx(p,{vertical:!0,justify:"center",align:"center",className:"h-full",children:e.jsx(a.Text,{strong:!0,className:"text-xl",children:"Seja Bem Vindo!"})})})]})}export{B as default};
